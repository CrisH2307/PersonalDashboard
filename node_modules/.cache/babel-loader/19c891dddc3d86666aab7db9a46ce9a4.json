{"ast":null,"code":"import { Ajax, createElement, select, extend } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, setValue, getValue } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { createDialog, createExtDialog } from '../pop-up/dialog';\nimport { fileType, setNodeId, getLocaleText, setDateObject, doPasteUpdate, getParentPath, getPathObject } from '../common/utility';\nimport { generatePath } from '../common/utility';\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\nexport function read(parent, event, path) {\n  // eslint-disable-next-line\n  var itemData = parent.itemData;\n\n  for (var i = 0; i < itemData.length; i++) {\n    if (isNOU(getValue('hasChild', itemData[i]))) {\n      setValue('hasChild', false, itemData[i]);\n    }\n  } // eslint-disable-next-line\n\n\n  var data = {\n    action: 'read',\n    path: path,\n    showHiddenItems: parent.showHiddenItems,\n    data: itemData\n  };\n  createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\nexport function createFolder(parent, itemName) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'create',\n    path: parent.path,\n    name: itemName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\n\nexport function filter(parent, event) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'filter',\n    path: parent.path,\n    showHiddenItems: parent.showHiddenItems,\n    data: [getPathObject(parent)]\n  }; // eslint-disable-next-line\n\n  var filterData; // eslint-disable-next-line\n\n  var filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n  createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\n\nexport function rename(parent, path, itemNewName) {\n  var name;\n  var newName;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n    name = parent.currentItemText;\n    newName = itemNewName;\n  } else {\n    var fPath = parent.filterPath;\n\n    if (parent.hasId) {\n      name = parent.currentItemText;\n      newName = itemNewName;\n    } else {\n      fPath = fPath.replace(/\\\\/g, '/');\n      name = fPath.replace(path, '') + parent.currentItemText;\n      newName = fPath.replace(path, '') + itemNewName;\n    }\n  } // eslint-disable-next-line\n\n\n  var data = {\n    action: 'rename',\n    path: path,\n    name: name,\n    newName: newName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\n\nexport function paste(parent, path, names, targetPath, pasteOperation, // eslint-disable-next-line\nrenameItems, actionRecords) {\n  // eslint-disable-next-line\n  var data = {\n    action: pasteOperation,\n    path: path,\n    targetData: parent.itemData[0],\n    targetPath: targetPath,\n    names: names,\n    renameFiles: renameItems,\n    data: actionRecords\n  };\n  parent.destinationPath = targetPath;\n  createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\nexport function Delete(parent, items, path, operation) {\n  // eslint-disable-next-line\n  var data = {\n    action: operation,\n    path: path,\n    names: items,\n    data: parent.itemData\n  };\n  createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\n\nexport function GetDetails(parent, names, path, operation) {\n  // eslint-disable-next-line\n  var data = {\n    action: operation,\n    path: path,\n    names: names,\n    data: parent.itemData\n  };\n  createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\n\nfunction createAjax( // eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n  // eslint-disable-next-line\n  var ajaxSettings = {\n    url: parent.ajaxSettings.url,\n    type: 'POST',\n    mode: true,\n    dataType: 'json',\n    contentType: 'application/json',\n    data: JSON.stringify(data),\n    onSuccess: null,\n    onFailure: null,\n    beforeSend: null\n  };\n  var eventArgs = {\n    action: getValue('action', data),\n    ajaxSettings: ajaxSettings,\n    cancel: false\n  };\n  parent.trigger('beforeSend', eventArgs, function (beforeSendArgs) {\n    if (!beforeSendArgs.cancel) {\n      parent.notify(events.beforeRequest, {});\n      var ajax = new Ajax({\n        url: getValue('url', beforeSendArgs.ajaxSettings),\n        type: getValue('type', beforeSendArgs.ajaxSettings),\n        mode: getValue('mode', beforeSendArgs.ajaxSettings),\n        dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n        contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n        data: getValue('data', beforeSendArgs.ajaxSettings),\n        beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n        onSuccess: function (result) {\n          if (isNOU(result)) {\n            var result_1 = {\n              error: {\n                fileExists: null,\n                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                code: '406'\n              },\n              files: null\n            };\n            triggerAjaxFailure(parent, beforeSendArgs, fn, result_1, event, operation, targetPath);\n            return;\n          }\n\n          if (typeof result === 'string') {\n            result = JSON.parse(result);\n          }\n\n          parent.notify(events.afterRequest, {\n            action: 'success'\n          });\n          var id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n\n          if (!isNOU(result.cwd) && getValue('action', data) === 'read') {\n            result.cwd.name = parent.pathId.length === 1 ? parent.rootAliasName || result.cwd.name : result.cwd.name;\n            setValue('_fm_id', id, result.cwd);\n            setValue(id, result.cwd, parent.feParent);\n\n            if (!isNOU(result.files) || result.error.code === '401') {\n              if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                // eslint-disable-next-line\n                var root = getValue(parent.pathId[0], parent.feParent);\n                parent.pathNames[0] = getValue('name', root);\n                parent.hasId = !isNOU(getValue('id', root));\n              }\n\n              if (event === 'finalize-end') {\n                generatePath(parent);\n              }\n            }\n          }\n\n          if (!isNOU(result.files)) {\n            setDateObject(result.files);\n\n            for (var i = 0, len = result.files.length; i < len; i++) {\n              // eslint-disable-next-line\n              var item = result.files[i];\n              setValue('_fm_iconClass', fileType(item), item);\n            }\n\n            if (getValue('action', data) === 'read') {\n              setNodeId(result, id);\n              setValue(id, result.files, parent.feFiles);\n            }\n          }\n\n          if (!isNOU(result.details) && !isNOU(parent.rootAliasName)) {\n            var rootName = parent.rootAliasName || getValue('name', result.details);\n            var location_1 = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n\n            if (getValue('path', data) === '/' || parent.hasId && getValue('path', data).match(/[/]/g).length === 1) {\n              if (getValue('names', data).length === 0) {\n                setValue('name', rootName, result.details);\n                location_1 = rootName;\n              } else {\n                location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n              }\n            } else {\n              location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n            }\n\n            setValue('location', location_1, result.details);\n          }\n\n          fn(parent, result, event, operation, targetPath);\n\n          if (!isNOU(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n            parent.notify(events.searchTextChange, result);\n          }\n\n          if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n          }\n        },\n        onFailure: function () {\n          var result = {\n            files: null,\n            error: {\n              code: '404',\n              message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n              fileExists: null\n            }\n          };\n          triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n        }\n      });\n      ajax.send();\n    }\n  });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerAjaxFailure( // eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n  parent.notify(events.afterRequest, {\n    action: 'failure'\n  });\n  fn(parent, result, event, operation, targetPath);\n\n  if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n    getValue('onFailure', beforeSendArgs.ajaxSettings)();\n  }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction readSuccess(parent, result, event) {\n  if (!isNOU(result.files)) {\n    parent.notify(event, result);\n    parent.notify(events.selectionChanged, {});\n    var args = {\n      action: 'read',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    if (result.error.code === '401') {\n      result.files = [];\n      parent.notify(event, result);\n      parent.notify(events.selectionChanged, {});\n    }\n\n    onFailure(parent, result, 'read');\n  }\n\n  if (parent.isDragDrop && parent.isDropEnd) {\n    if (parent.droppedObjects.length !== 0) {\n      var args = {\n        fileDetails: parent.droppedObjects\n      };\n      parent.trigger('fileDropped', args);\n    }\n\n    parent.isDropEnd = parent.isDragDrop = false;\n  }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction filterSuccess(parent, result, event, action) {\n  if (!isNOU(result.files)) {\n    parent.notify(event, result);\n    var args = {\n      action: action,\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, action);\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\n\nfunction createSuccess(parent, result, itemName) {\n  if (!isNOU(result.files)) {\n    if (parent.dialogObj && parent.dialogObj.visible) {\n      parent.dialogObj.hide();\n    }\n\n    parent.createdItem = result.files[0];\n    parent.breadcrumbbarModule.searchObj.value = '';\n    var args = {\n      action: 'create',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, events.createEnd, parent.path);\n  } else {\n    if (result.error.code === '400') {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        var ele = select('#newname', parent.dialogObj.element);\n        var error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n        ele.parentElement.nextElementSibling.innerHTML = error;\n      } else {\n        var result_2 = {\n          files: null,\n          error: {\n            code: '400',\n            message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result_2);\n      }\n\n      var args = {\n        action: 'create',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'create');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\n\n\nfunction renameSuccess(parent, result, path) {\n  if (!isNOU(result.files)) {\n    if (!isNOU(parent.dialogObj)) {\n      parent.dialogObj.hide();\n    }\n\n    var args = {\n      action: 'rename',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.renamedItem = result.files[0];\n\n    if (parent.activeModule === 'navigationpane') {\n      parent.pathId.pop();\n      parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n      read(parent, events.renameEndParent, getParentPath(parent.path));\n    } else {\n      parent.itemData = [getPathObject(parent)];\n\n      if (parent.breadcrumbbarModule.searchObj.value !== '') {\n        Search(parent, events.renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n      } else {\n        if (parent.isFiltered) {\n          filter(parent, events.renameEnd);\n        } else {\n          read(parent, events.renameEnd, parent.path);\n        }\n      }\n    }\n  } else {\n    if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n      var ele = select('#rename', parent.dialogObj.element);\n      var error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n      error = error.replace('{1}', '\"' + ele.value + '\"');\n      ele.parentElement.nextElementSibling.innerHTML = error;\n      var args = {\n        action: 'rename',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (!isNOU(parent.dialogObj)) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'rename');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction pasteSuccess(parent, result, path, operation) {\n  if (result.error && result.error.fileExists) {\n    parent.fileLength = 0;\n\n    if (!isNOU(result.files)) {\n      parent.isPasteError = true;\n      doPasteUpdate(parent, operation, result);\n    }\n\n    createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n\n    if (result.error.code === '404') {\n      createDialog(parent, 'Error', result);\n    }\n  } else if (!result.error && !isNOU(result.files)) {\n    parent.isPasteError = false;\n    doPasteUpdate(parent, operation, result);\n  } else if (result.error && !isNOU(result.files)) {\n    parent.isPasteError = true;\n    doPasteUpdate(parent, operation, result);\n    createDialog(parent, 'Error', result);\n  } else {\n    onFailure(parent, result, operation);\n  }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction deleteSuccess(parent, result, path) {\n  if (!isNOU(result.files)) {\n    parent.setProperties({\n      path: path\n    }, true);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, events.deleteEnd, parent.path);\n\n    if (result.error) {\n      onFailure(parent, result, 'delete');\n    } else {\n      var args = {\n        action: 'delete',\n        result: result\n      };\n      parent.trigger('success', args);\n    }\n  } else {\n    onFailure(parent, result, 'delete');\n  }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction detailsSuccess( // eslint:disable-next-line\nparent, result, path, operation) {\n  if (!isNOU(result.details)) {\n    createDialog(parent, operation, null, result.details);\n    var args = {\n      action: 'details',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'details');\n  }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction onFailure(parent, result, action) {\n  createDialog(parent, 'Error', result);\n  var args = {\n    action: action,\n    error: result.error\n  };\n  parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\n\n\nexport function Search( // eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'search',\n    path: path,\n    searchString: searchString,\n    showHiddenItems: showHiddenItems,\n    caseSensitive: caseSensitive,\n    data: parent.itemData\n  };\n  createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\nfunction searchSuccess(parent, result, event) {\n  if (!isNOU(result.files)) {\n    parent.notify(event, result);\n    var args = {\n      action: 'search',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'search');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\n\n\nexport function Download(parent, path, items) {\n  var downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url; // eslint-disable-next-line\n\n  var data = {\n    'action': 'download',\n    'path': path,\n    'names': items,\n    'data': parent.itemData\n  };\n  var eventArgs = {\n    data: data,\n    cancel: false\n  };\n  parent.trigger('beforeDownload', eventArgs, function (downloadArgs) {\n    if (!downloadArgs.cancel) {\n      var form = createElement('form', {\n        id: parent.element.id + '_downloadForm',\n        attrs: {\n          action: downloadUrl,\n          method: 'post',\n          name: 'downloadForm',\n          'download': ''\n        }\n      });\n      var input = createElement('input', {\n        id: parent.element.id + '_hiddenForm',\n        attrs: {\n          name: 'downloadInput',\n          value: JSON.stringify(downloadArgs.data),\n          type: 'hidden'\n        }\n      });\n      form.appendChild(input);\n      parent.element.appendChild(form);\n      document.forms.namedItem('downloadForm').submit();\n      parent.element.removeChild(form);\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/khang/OneDrive/Tài liệu/JS/PersonalDashdoard/dashboard/node_modules/@syncfusion/ej2-react-richtexteditor/node_modules/@syncfusion/ej2-filemanager/src/file-manager/common/operations.js"],"names":["Ajax","createElement","select","extend","isNullOrUndefined","isNOU","setValue","getValue","events","createDialog","createExtDialog","fileType","setNodeId","getLocaleText","setDateObject","doPasteUpdate","getParentPath","getPathObject","generatePath","read","parent","event","path","itemData","i","length","data","action","showHiddenItems","createAjax","readSuccess","createFolder","itemName","name","createSuccess","filter","filterData","filterDataVal","filterSuccess","rename","itemNewName","newName","breadcrumbbarModule","searchObj","element","value","isFiltered","currentItemText","fPath","filterPath","hasId","replace","renameSuccess","paste","names","targetPath","pasteOperation","renameItems","actionRecords","targetData","renameFiles","destinationPath","pasteSuccess","Delete","items","operation","deleteSuccess","GetDetails","detailsSuccess","fn","ajaxSettings","url","type","mode","dataType","contentType","JSON","stringify","onSuccess","onFailure","beforeSend","eventArgs","cancel","trigger","beforeSendArgs","notify","beforeRequest","ajax","result","result_1","error","fileExists","message","code","files","triggerAjaxFailure","parse","afterRequest","id","expandedId","pathId","cwd","rootAliasName","feParent","pathNames","root","len","item","feFiles","details","rootName","location_1","RegExp","match","substring","indexOf","searchTextChange","send","selectionChanged","args","isDragDrop","isDropEnd","droppedObjects","fileDetails","dialogObj","visible","hide","createdItem","createEnd","ele","parentElement","nextElementSibling","innerHTML","result_2","renamedItem","activeModule","pop","renameEndParent","Search","renameEnd","searchWord","searchSettings","ignoreCase","fileLength","isPasteError","setProperties","deleteEnd","searchString","caseSensitive","searchSuccess","Download","downloadUrl","downloadArgs","form","attrs","method","input","appendChild","document","forms","namedItem","submit","removeChild"],"mappings":"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","sourcesContent":["import { Ajax, createElement, select, extend } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, setValue, getValue } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { createDialog, createExtDialog } from '../pop-up/dialog';\nimport { fileType, setNodeId, getLocaleText, setDateObject, doPasteUpdate, getParentPath, getPathObject } from '../common/utility';\nimport { generatePath } from '../common/utility';\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nexport function read(parent, event, path) {\n    // eslint-disable-next-line\n    var itemData = parent.itemData;\n    for (var i = 0; i < itemData.length; i++) {\n        if (isNOU(getValue('hasChild', itemData[i]))) {\n            setValue('hasChild', false, itemData[i]);\n        }\n    }\n    // eslint-disable-next-line\n    var data = { action: 'read', path: path, showHiddenItems: parent.showHiddenItems, data: itemData };\n    createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nexport function createFolder(parent, itemName) {\n    // eslint-disable-next-line\n    var data = { action: 'create', path: parent.path, name: itemName, data: parent.itemData };\n    createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\nexport function filter(parent, event) {\n    // eslint-disable-next-line\n    var data = { action: 'filter', path: parent.path, showHiddenItems: parent.showHiddenItems, data: [getPathObject(parent)] };\n    // eslint-disable-next-line\n    var filterData;\n    // eslint-disable-next-line\n    var filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n    createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\nexport function rename(parent, path, itemNewName) {\n    var name;\n    var newName;\n    if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n        name = parent.currentItemText;\n        newName = itemNewName;\n    }\n    else {\n        var fPath = parent.filterPath;\n        if (parent.hasId) {\n            name = parent.currentItemText;\n            newName = itemNewName;\n        }\n        else {\n            fPath = fPath.replace(/\\\\/g, '/');\n            name = fPath.replace(path, '') + parent.currentItemText;\n            newName = fPath.replace(path, '') + itemNewName;\n        }\n    }\n    // eslint-disable-next-line\n    var data = {\n        action: 'rename', path: path, name: name, newName: newName, data: parent.itemData\n    };\n    createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\nexport function paste(parent, path, names, targetPath, pasteOperation, \n// eslint-disable-next-line\nrenameItems, actionRecords) {\n    // eslint-disable-next-line\n    var data = {\n        action: pasteOperation, path: path, targetData: parent.itemData[0],\n        targetPath: targetPath, names: names, renameFiles: renameItems, data: actionRecords\n    };\n    parent.destinationPath = targetPath;\n    createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nexport function Delete(parent, items, path, operation) {\n    // eslint-disable-next-line\n    var data = { action: operation, path: path, names: items, data: parent.itemData };\n    createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\nexport function GetDetails(parent, names, path, operation) {\n    // eslint-disable-next-line\n    var data = { action: operation, path: path, names: names, data: parent.itemData };\n    createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\nfunction createAjax(\n// eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n    // eslint-disable-next-line\n    var ajaxSettings = {\n        url: parent.ajaxSettings.url,\n        type: 'POST',\n        mode: true,\n        dataType: 'json',\n        contentType: 'application/json',\n        data: JSON.stringify(data),\n        onSuccess: null,\n        onFailure: null,\n        beforeSend: null\n    };\n    var eventArgs = { action: getValue('action', data), ajaxSettings: ajaxSettings, cancel: false };\n    parent.trigger('beforeSend', eventArgs, function (beforeSendArgs) {\n        if (!beforeSendArgs.cancel) {\n            parent.notify(events.beforeRequest, {});\n            var ajax = new Ajax({\n                url: getValue('url', beforeSendArgs.ajaxSettings),\n                type: getValue('type', beforeSendArgs.ajaxSettings),\n                mode: getValue('mode', beforeSendArgs.ajaxSettings),\n                dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n                contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n                data: getValue('data', beforeSendArgs.ajaxSettings),\n                beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n                onSuccess: function (result) {\n                    if (isNOU(result)) {\n                        var result_1 = {\n                            error: {\n                                fileExists: null,\n                                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                                code: '406'\n                            },\n                            files: null\n                        };\n                        triggerAjaxFailure(parent, beforeSendArgs, fn, result_1, event, operation, targetPath);\n                        return;\n                    }\n                    if (typeof (result) === 'string') {\n                        result = JSON.parse(result);\n                    }\n                    parent.notify(events.afterRequest, { action: 'success' });\n                    var id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n                    if (!isNOU(result.cwd) && (getValue('action', data) === 'read')) {\n                        result.cwd.name = (parent.pathId.length === 1) ? (parent.rootAliasName || result.cwd.name) : result.cwd.name;\n                        setValue('_fm_id', id, result.cwd);\n                        setValue(id, result.cwd, parent.feParent);\n                        if (!isNOU(result.files) || result.error.code === '401') {\n                            if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                                // eslint-disable-next-line\n                                var root = getValue(parent.pathId[0], parent.feParent);\n                                parent.pathNames[0] = getValue('name', root);\n                                parent.hasId = !isNOU(getValue('id', root));\n                            }\n                            if (event === 'finalize-end') {\n                                generatePath(parent);\n                            }\n                        }\n                    }\n                    if (!isNOU(result.files)) {\n                        setDateObject(result.files);\n                        for (var i = 0, len = result.files.length; i < len; i++) {\n                            // eslint-disable-next-line\n                            var item = result.files[i];\n                            setValue('_fm_iconClass', fileType(item), item);\n                        }\n                        if (getValue('action', data) === 'read') {\n                            setNodeId(result, id);\n                            setValue(id, result.files, parent.feFiles);\n                        }\n                    }\n                    if (!isNOU(result.details) && !isNOU(parent.rootAliasName)) {\n                        var rootName = parent.rootAliasName || getValue('name', result.details);\n                        var location_1 = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n                        if ((getValue('path', data) === '/') || (parent.hasId && getValue('path', data).match(/[/]/g).length === 1)) {\n                            if (getValue('names', data).length === 0) {\n                                setValue('name', rootName, result.details);\n                                location_1 = rootName;\n                            }\n                            else {\n                                location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n                            }\n                        }\n                        else {\n                            location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n                        }\n                        setValue('location', location_1, result.details);\n                    }\n                    fn(parent, result, event, operation, targetPath);\n                    if (!isNOU(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n                        parent.notify(events.searchTextChange, result);\n                    }\n                    if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n                        getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n                    }\n                },\n                onFailure: function () {\n                    var result = {\n                        files: null,\n                        error: {\n                            code: '404',\n                            message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n                            fileExists: null\n                        }\n                    };\n                    triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n                }\n            });\n            ajax.send();\n        }\n    });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\nfunction triggerAjaxFailure(\n// eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n    parent.notify(events.afterRequest, { action: 'failure' });\n    fn(parent, result, event, operation, targetPath);\n    if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n        getValue('onFailure', beforeSendArgs.ajaxSettings)();\n    }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction readSuccess(parent, result, event) {\n    if (!isNOU(result.files)) {\n        parent.notify(event, result);\n        parent.notify(events.selectionChanged, {});\n        var args = { action: 'read', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        if (result.error.code === '401') {\n            result.files = [];\n            parent.notify(event, result);\n            parent.notify(events.selectionChanged, {});\n        }\n        onFailure(parent, result, 'read');\n    }\n    if (parent.isDragDrop && parent.isDropEnd) {\n        if (parent.droppedObjects.length !== 0) {\n            var args = { fileDetails: parent.droppedObjects };\n            parent.trigger('fileDropped', args);\n        }\n        parent.isDropEnd = parent.isDragDrop = false;\n    }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction filterSuccess(parent, result, event, action) {\n    if (!isNOU(result.files)) {\n        parent.notify(event, result);\n        var args = { action: action, result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, action);\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createSuccess(parent, result, itemName) {\n    if (!isNOU(result.files)) {\n        if (parent.dialogObj && parent.dialogObj.visible) {\n            parent.dialogObj.hide();\n        }\n        parent.createdItem = result.files[0];\n        parent.breadcrumbbarModule.searchObj.value = '';\n        var args = { action: 'create', result: result };\n        parent.trigger('success', args);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, events.createEnd, parent.path);\n    }\n    else {\n        if (result.error.code === '400') {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                var ele = select('#newname', parent.dialogObj.element);\n                var error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n                ele.parentElement.nextElementSibling.innerHTML = error;\n            }\n            else {\n                var result_2 = {\n                    files: null,\n                    error: {\n                        code: '400',\n                        message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result_2);\n            }\n            var args = { action: 'create', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'create');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\nfunction renameSuccess(parent, result, path) {\n    if (!isNOU(result.files)) {\n        if (!isNOU(parent.dialogObj)) {\n            parent.dialogObj.hide();\n        }\n        var args = { action: 'rename', result: result };\n        parent.trigger('success', args);\n        parent.renamedItem = result.files[0];\n        if (parent.activeModule === 'navigationpane') {\n            parent.pathId.pop();\n            parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n            read(parent, events.renameEndParent, getParentPath(parent.path));\n        }\n        else {\n            parent.itemData = [getPathObject(parent)];\n            if (parent.breadcrumbbarModule.searchObj.value !== '') {\n                Search(parent, events.renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n            }\n            else {\n                if (parent.isFiltered) {\n                    filter(parent, events.renameEnd);\n                }\n                else {\n                    read(parent, events.renameEnd, parent.path);\n                }\n            }\n        }\n    }\n    else {\n        if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n            var ele = select('#rename', parent.dialogObj.element);\n            var error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n            error = error.replace('{1}', '\"' + ele.value + '\"');\n            ele.parentElement.nextElementSibling.innerHTML = error;\n            var args = { action: 'rename', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (!isNOU(parent.dialogObj)) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'rename');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction pasteSuccess(parent, result, path, operation) {\n    if (result.error && result.error.fileExists) {\n        parent.fileLength = 0;\n        if (!isNOU(result.files)) {\n            parent.isPasteError = true;\n            doPasteUpdate(parent, operation, result);\n        }\n        createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n        if (result.error.code === '404') {\n            createDialog(parent, 'Error', result);\n        }\n    }\n    else if (!result.error && !isNOU(result.files)) {\n        parent.isPasteError = false;\n        doPasteUpdate(parent, operation, result);\n    }\n    else if (result.error && !isNOU(result.files)) {\n        parent.isPasteError = true;\n        doPasteUpdate(parent, operation, result);\n        createDialog(parent, 'Error', result);\n    }\n    else {\n        onFailure(parent, result, operation);\n    }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction deleteSuccess(parent, result, path) {\n    if (!isNOU(result.files)) {\n        parent.setProperties({ path: path }, true);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, events.deleteEnd, parent.path);\n        if (result.error) {\n            onFailure(parent, result, 'delete');\n        }\n        else {\n            var args = { action: 'delete', result: result };\n            parent.trigger('success', args);\n        }\n    }\n    else {\n        onFailure(parent, result, 'delete');\n    }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction detailsSuccess(\n// eslint:disable-next-line\nparent, result, path, operation) {\n    if (!isNOU(result.details)) {\n        createDialog(parent, operation, null, result.details);\n        var args = { action: 'details', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'details');\n    }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction onFailure(parent, result, action) {\n    createDialog(parent, 'Error', result);\n    var args = { action: action, error: result.error };\n    parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\nexport function Search(\n// eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n    // eslint-disable-next-line\n    var data = {\n        action: 'search', path: path, searchString: searchString, showHiddenItems: showHiddenItems, caseSensitive: caseSensitive,\n        data: parent.itemData\n    };\n    createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction searchSuccess(parent, result, event) {\n    if (!isNOU(result.files)) {\n        parent.notify(event, result);\n        var args = { action: 'search', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'search');\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\nexport function Download(parent, path, items) {\n    var downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url;\n    // eslint-disable-next-line\n    var data = { 'action': 'download', 'path': path, 'names': items, 'data': parent.itemData };\n    var eventArgs = { data: data, cancel: false };\n    parent.trigger('beforeDownload', eventArgs, function (downloadArgs) {\n        if (!downloadArgs.cancel) {\n            var form = createElement('form', {\n                id: parent.element.id + '_downloadForm',\n                attrs: { action: downloadUrl, method: 'post', name: 'downloadForm', 'download': '' }\n            });\n            var input = createElement('input', {\n                id: parent.element.id + '_hiddenForm',\n                attrs: { name: 'downloadInput', value: JSON.stringify(downloadArgs.data), type: 'hidden' }\n            });\n            form.appendChild(input);\n            parent.element.appendChild(form);\n            document.forms.namedItem('downloadForm').submit();\n            parent.element.removeChild(form);\n        }\n    });\n}\n"]},"metadata":{},"sourceType":"module"}