{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { firstToLowerCase, RectOption } from '../../common/utils/helper';\nimport { NiceInterval } from '../../chart/axis/axis-helper';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { DataPoint } from '../utils/helper';\nimport { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getSeriesColor } from '../../common/model/theme';\nimport { PathOption, Rect, measureText, Size } from '@syncfusion/ej2-svg-base';\nimport { Data } from '../../common/model/data';\n/**\n * To render Chart series\n */\n\nvar RangeSeries =\n/** @class */\nfunction (_super) {\n  __extends(RangeSeries, _super);\n\n  function RangeSeries(range) {\n    var _this = _super.call(this) || this;\n\n    _this.dataSource = range.dataSource;\n    _this.xName = range.xName;\n    _this.yName = range.yName;\n    _this.query = range.query;\n    _this.xMin = Infinity;\n    _this.xMax = -Infinity;\n    _this.yMin = Infinity;\n    _this.yMax = -Infinity;\n    return _this;\n  }\n  /**\n   * To render light weight and data manager process\n   *\n   * @param {RangeNavigator} control RangeNavigator instance\n   */\n\n\n  RangeSeries.prototype.renderChart = function (control) {\n    var _this = this;\n\n    var dataSource;\n    var query;\n    this.seriesLength = 0;\n    control.rangeSlider.points = [];\n\n    if (control.series.length) {\n      control.series.map(function (series) {\n        dataSource = series.dataSource || control.dataSource;\n        query = series.query || control.query;\n        series.points = [];\n\n        _this.processDataSource(dataSource, query, control, series);\n      });\n    } else {\n      this.processDataSource(control.dataSource, control.query, control);\n    }\n  };\n\n  RangeSeries.prototype.processDataSource = function (dataSource, query, control, series) {\n    var _this = this;\n\n    if (!(dataSource instanceof DataManager) && !isNullOrUndefined(dataSource) && isNullOrUndefined(query)) {\n      this.dataManagerSuccess({\n        result: dataSource,\n        count: dataSource.length\n      }, control, series);\n      return;\n    }\n\n    control.dataModule = new Data(dataSource, query);\n    var dataManager = control.dataModule.getData(control.dataModule.generateQuery().requiresCount());\n    dataManager.then(function (e) {\n      return _this.dataManagerSuccess(e, control, series);\n    });\n  };\n  /**\n   * data manager process calculated here\n   */\n\n\n  RangeSeries.prototype.dataManagerSuccess = function (e, control, series) {\n    var viewData = e.count ? e.result : [];\n    control.allowServerDataBinding = false;\n    this.processJsonData(viewData, control, Object.keys(viewData).length, series);\n    this.seriesLength += series ? 1 : this.seriesLength;\n\n    if (!series || this.seriesLength === control.series.length) {\n      this.processXAxis(control);\n      this.calculateGroupingBounds(control);\n      this.processYAxis(control);\n      control.renderChart();\n    }\n  };\n  /**\n   * Process JSON data from data source\n   */\n\n\n  RangeSeries.prototype.processJsonData = function (viewData, control, len, series) {\n    var i = 0;\n    var point;\n    var xName = series && series.xName || control.xName;\n    var yName = series && series.yName || control.yName;\n\n    while (i < len) {\n      point = new DataPoint(getValue(xName, viewData[i]), getValue(yName, viewData[i]));\n      point.yValue = +point.y;\n\n      if (control.valueType === 'DateTime') {\n        var dateParser = control.intl.getDateParser({\n          skeleton: 'full',\n          type: 'dateTime'\n        });\n        var dateFormatter = control.intl.getDateFormat({\n          skeleton: 'full',\n          type: 'dateTime'\n        });\n        point.x = new Date(DataUtil.parse.parseJson({\n          val: point.x\n        }).val);\n        point.xValue = Date.parse(dateParser(dateFormatter(point.x)));\n      } else {\n        point.xValue = +point.x;\n      }\n\n      if (series) {\n        series.points.push(point);\n      }\n\n      this.xMin = Math.min(this.xMin, point.xValue);\n      this.yMin = Math.min(this.yMin, point.yValue);\n      this.xMax = Math.max(this.xMax, point.xValue);\n      this.yMax = Math.max(this.yMax, point.yValue);\n      control.rangeSlider.points.push(point);\n      i++;\n    }\n  };\n  /**\n   * Process x axis for range navigator.\n   *\n   * @private\n   */\n\n\n  RangeSeries.prototype.processXAxis = function (control) {\n    var axis = {\n      minimum: control.minimum,\n      maximum: control.maximum,\n      interval: control.interval,\n      valueType: control.valueType,\n      isInversed: control.enableRtl,\n      labelFormat: control.labelFormat,\n      logBase: control.logBase,\n      skeleton: control.skeleton,\n      skeletonType: control.skeletonType\n    };\n    this.xAxis = axis;\n    this.xAxis.intervalType = control.intervalType;\n    this.xAxis.maximumLabels = 3;\n    this.xAxis.skeleton = control.skeleton;\n    this.xAxis.intervalDivs = [10, 5, 2, 1];\n    this.xAxis.rect = control.bounds;\n    this.xAxis.visibleLabels = [];\n    this.xAxis.orientation = 'Horizontal';\n    var axisModule = control[firstToLowerCase(control.valueType) + 'Module'];\n    axisModule.min = this.xMin;\n    axisModule.max = this.xMax;\n    axisModule.getActualRange(this.xAxis, control.bounds);\n\n    if (this.xAxis.valueType === 'Double' || this.xAxis.valueType === 'DateTime') {\n      axisModule.updateActualRange(this.xAxis, this.xAxis.actualRange.min, this.xAxis.actualRange.max, this.xAxis.actualRange.interval);\n    }\n\n    this.xAxis.actualRange.delta = this.xAxis.actualRange.max - this.xAxis.actualRange.min;\n    this.xAxis.visibleRange = this.xAxis.actualRange;\n    axisModule.calculateVisibleLabels(this.xAxis, control);\n  };\n  /**\n   * Process yAxis for range navigator\n   *\n   * @param {RangeNavigator} control RangeNavigator instance\n   * @private\n   */\n\n\n  RangeSeries.prototype.processYAxis = function (control) {\n    var axis = {\n      majorGridLines: {\n        width: 0\n      },\n      rangePadding: 'None',\n      majorTickLines: {\n        width: 0\n      },\n      labelStyle: {\n        size: '0'\n      },\n      visible: false,\n      valueType: 'Double',\n      minimum: null,\n      maximum: null,\n      interval: null\n    };\n    this.yAxis = axis;\n    this.yAxis.rect = control.bounds;\n    this.yAxis.maximumLabels = 3;\n    this.yAxis.intervalDivs = [10, 5, 2, 1];\n    this.yAxis.orientation = 'Vertical';\n    control.doubleModule.min = this.yMin;\n    control.doubleModule.max = this.yMax;\n    control.doubleModule.getActualRange(this.yAxis, control.bounds);\n    control.doubleModule.updateActualRange(this.yAxis, this.yAxis.actualRange.min, this.yAxis.actualRange.max, this.yAxis.actualRange.interval);\n    this.yAxis.actualRange.delta = this.yAxis.actualRange.max - this.yAxis.actualRange.min;\n    this.yAxis.visibleRange = this.yAxis.actualRange;\n  };\n  /**\n   * Process Light weight control\n   *\n   * @param {RangeNavigator} control RangeNavigator instance\n   * @private\n   */\n\n\n  RangeSeries.prototype.renderSeries = function (control) {\n    var _this = this;\n\n    this.chartGroup = control.renderer.createGroup({\n      id: control.element.id + '_chart'\n    });\n    var colors = getSeriesColor(control.theme);\n    control.series.map(function (series, index) {\n      var isSeriesVisible = control.stockChart ? control.stockChart.series[index].visible : true;\n\n      if (isSeriesVisible) {\n        series.xAxis = _this.xAxis;\n        series.yAxis = _this.yAxis;\n        series.chart = control;\n        series.index = index;\n        series.xAxis.isInversed = control.enableRtl;\n        series.interior = series.fill || colors[index % colors.length];\n\n        _this.createSeriesElement(control, series, index);\n\n        if (control[firstToLowerCase(series.type) + 'SeriesModule']) {\n          control[firstToLowerCase(series.type) + 'SeriesModule'].render(series, _this.xAxis, _this.yAxis, false);\n        } else {\n          control['line' + 'SeriesModule'].render(series, _this.xAxis, _this.yAxis, false);\n        }\n\n        _this.chartGroup.appendChild(series.seriesElement);\n\n        if (series.animation.enable && control.animateSeries) {\n          if (control[firstToLowerCase(series.type) + 'SeriesModule']) {\n            control[firstToLowerCase(series.type) + 'SeriesModule'].doAnimation(series);\n          } else {//control['line' + 'SeriesModule'].doAnimation(series);\n          }\n        }\n      }\n    });\n  };\n  /**\n   * Append series elements in element\n   */\n\n\n  RangeSeries.prototype.appendSeriesElements = function (control) {\n    control.svgObject.appendChild(this.chartGroup);\n\n    if (control.series.length) {\n      this.drawSeriesBorder(control);\n    }\n  };\n\n  RangeSeries.prototype.createSeriesElement = function (control, series, index) {\n    var elementId = control.element.id;\n    series.clipRect = new Rect(this.xAxis.rect.x, this.yAxis.rect.y, this.xAxis.rect.width, this.yAxis.rect.height);\n    series.clipRectElement = control.renderer.drawClipPath(new RectOption(elementId + '_RangeSeriesClipRect_' + index, 'transparent', {\n      width: 1,\n      color: 'Gray'\n    }, 1, {\n      x: 0,\n      y: 0,\n      width: series.clipRect.width,\n      height: series.clipRect.height\n    }));\n    series.seriesElement = control.renderer.createGroup({\n      'id': elementId + 'SeriesGroup' + index,\n      'transform': 'translate(' + series.clipRect.x + ',' + series.clipRect.y + ')',\n      'clip-path': 'url(#' + elementId + '_RangeSeriesClipRect_' + index + ')'\n    });\n    series.seriesElement.appendChild(series.clipRectElement);\n  };\n  /**\n   * Calculate grouping bounds for x axis.\n   *\n   * @private\n   */\n\n\n  RangeSeries.prototype.calculateGroupingBounds = function (control) {\n    var padding = control.margin.bottom;\n    var labelHeight = measureText('string', control.labelStyle).height;\n    this.calculateDateTimeNiceInterval(this.xAxis, new Size(control.bounds.width, control.bounds.height), this.xMin, this.xMax, false);\n\n    if (control.enableGrouping && control.valueType === 'DateTime' && (this.xAxis.actualIntervalType !== 'Years' || !control.series.length)) {\n      control.bounds.height -= control.labelPosition === 'Outside' || control.series.length === 0 ? padding + labelHeight : labelHeight + 2 * padding;\n    }\n\n    if (!control.series.length) {\n      control.bounds.y += control.bounds.height / 4;\n      control.bounds.height = control.bounds.height / 2;\n    }\n  };\n\n  RangeSeries.prototype.drawSeriesBorder = function (control) {\n    var start = control.stockChart ? 'M' : 'L';\n    var close = control.stockChart ? '' : 'Z';\n    var options = new PathOption(control.element.id + '_SeriesBorder', 'transparent', control.navigatorBorder.width, control.navigatorBorder.color, 1, '', 'M ' + control.bounds.x + ' ' + control.bounds.y + ' L ' + (control.bounds.x + control.bounds.width) + ' ' + control.bounds.y + start + (control.bounds.x + control.bounds.width) + ' ' + (control.bounds.y + control.bounds.height) + ' L ' + control.bounds.x + ' ' + (control.bounds.y + control.bounds.height) + close);\n    var htmlObject = control.renderer.drawPath(options);\n    control.svgObject.appendChild(htmlObject);\n  };\n\n  return RangeSeries;\n}(NiceInterval);\n\nexport { RangeSeries };","map":{"version":3,"sources":["C:/Users/khang/OneDrive/Tài liệu/JS/PersonalDashdoard/dashboard/node_modules/@syncfusion/ej2-react-charts/node_modules/@syncfusion/ej2-charts/src/range-navigator/renderer/chart-render.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","firstToLowerCase","RectOption","NiceInterval","DataManager","DataUtil","DataPoint","getValue","isNullOrUndefined","getSeriesColor","PathOption","Rect","measureText","Size","Data","RangeSeries","_super","range","_this","call","dataSource","xName","yName","query","xMin","Infinity","xMax","yMin","yMax","renderChart","control","seriesLength","rangeSlider","points","series","length","map","processDataSource","dataManagerSuccess","result","count","dataModule","dataManager","getData","generateQuery","requiresCount","then","e","viewData","allowServerDataBinding","processJsonData","keys","processXAxis","calculateGroupingBounds","processYAxis","len","i","point","yValue","y","valueType","dateParser","intl","getDateParser","skeleton","type","dateFormatter","getDateFormat","x","Date","parse","parseJson","val","xValue","push","Math","min","max","axis","minimum","maximum","interval","isInversed","enableRtl","labelFormat","logBase","skeletonType","xAxis","intervalType","maximumLabels","intervalDivs","rect","bounds","visibleLabels","orientation","axisModule","getActualRange","updateActualRange","actualRange","delta","visibleRange","calculateVisibleLabels","majorGridLines","width","rangePadding","majorTickLines","labelStyle","size","visible","yAxis","doubleModule","renderSeries","chartGroup","renderer","createGroup","id","element","colors","theme","index","isSeriesVisible","stockChart","chart","interior","fill","createSeriesElement","render","appendChild","seriesElement","animation","enable","animateSeries","doAnimation","appendSeriesElements","svgObject","drawSeriesBorder","elementId","clipRect","height","clipRectElement","drawClipPath","color","padding","margin","bottom","labelHeight","calculateDateTimeNiceInterval","enableGrouping","actualIntervalType","labelPosition","start","close","options","navigatorBorder","htmlObject","drawPath"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,SAASI,gBAAT,EAA2BC,UAA3B,QAA6C,2BAA7C;AACA,SAASC,YAAT,QAA6B,8BAA7B;AACA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,sBAAtC;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,QAAT,EAAmBC,iBAAnB,QAA4C,sBAA5C;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,UAAT,EAAqBC,IAArB,EAA2BC,WAA3B,EAAwCC,IAAxC,QAAoD,0BAApD;AACA,SAASC,IAAT,QAAqB,yBAArB;AACA;AACA;AACA;;AACA,IAAIC,WAAW;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAC/C7B,EAAAA,SAAS,CAAC4B,WAAD,EAAcC,MAAd,CAAT;;AACA,WAASD,WAAT,CAAqBE,KAArB,EAA4B;AACxB,QAAIC,KAAK,GAAGF,MAAM,CAACG,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACAD,IAAAA,KAAK,CAACE,UAAN,GAAmBH,KAAK,CAACG,UAAzB;AACAF,IAAAA,KAAK,CAACG,KAAN,GAAcJ,KAAK,CAACI,KAApB;AACAH,IAAAA,KAAK,CAACI,KAAN,GAAcL,KAAK,CAACK,KAApB;AACAJ,IAAAA,KAAK,CAACK,KAAN,GAAcN,KAAK,CAACM,KAApB;AACAL,IAAAA,KAAK,CAACM,IAAN,GAAaC,QAAb;AACAP,IAAAA,KAAK,CAACQ,IAAN,GAAa,CAACD,QAAd;AACAP,IAAAA,KAAK,CAACS,IAAN,GAAaF,QAAb;AACAP,IAAAA,KAAK,CAACU,IAAN,GAAa,CAACH,QAAd;AACA,WAAOP,KAAP;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACIH,EAAAA,WAAW,CAAChB,SAAZ,CAAsB8B,WAAtB,GAAoC,UAAUC,OAAV,EAAmB;AACnD,QAAIZ,KAAK,GAAG,IAAZ;;AACA,QAAIE,UAAJ;AACA,QAAIG,KAAJ;AACA,SAAKQ,YAAL,GAAoB,CAApB;AACAD,IAAAA,OAAO,CAACE,WAAR,CAAoBC,MAApB,GAA6B,EAA7B;;AACA,QAAIH,OAAO,CAACI,MAAR,CAAeC,MAAnB,EAA2B;AACvBL,MAAAA,OAAO,CAACI,MAAR,CAAeE,GAAf,CAAmB,UAAUF,MAAV,EAAkB;AACjCd,QAAAA,UAAU,GAAGc,MAAM,CAACd,UAAP,IAAqBU,OAAO,CAACV,UAA1C;AACAG,QAAAA,KAAK,GAAGW,MAAM,CAACX,KAAP,IAAgBO,OAAO,CAACP,KAAhC;AACAW,QAAAA,MAAM,CAACD,MAAP,GAAgB,EAAhB;;AACAf,QAAAA,KAAK,CAACmB,iBAAN,CAAwBjB,UAAxB,EAAoCG,KAApC,EAA2CO,OAA3C,EAAoDI,MAApD;AACH,OALD;AAMH,KAPD,MAQK;AACD,WAAKG,iBAAL,CAAuBP,OAAO,CAACV,UAA/B,EAA2CU,OAAO,CAACP,KAAnD,EAA0DO,OAA1D;AACH;AACJ,GAjBD;;AAkBAf,EAAAA,WAAW,CAAChB,SAAZ,CAAsBsC,iBAAtB,GAA0C,UAAUjB,UAAV,EAAsBG,KAAtB,EAA6BO,OAA7B,EAAsCI,MAAtC,EAA8C;AACpF,QAAIhB,KAAK,GAAG,IAAZ;;AACA,QAAI,EAAEE,UAAU,YAAYhB,WAAxB,KAAwC,CAACI,iBAAiB,CAACY,UAAD,CAA1D,IAA0EZ,iBAAiB,CAACe,KAAD,CAA/F,EAAwG;AACpG,WAAKe,kBAAL,CAAwB;AAAEC,QAAAA,MAAM,EAAEnB,UAAV;AAAsBoB,QAAAA,KAAK,EAAEpB,UAAU,CAACe;AAAxC,OAAxB,EAA0EL,OAA1E,EAAmFI,MAAnF;AACA;AACH;;AACDJ,IAAAA,OAAO,CAACW,UAAR,GAAqB,IAAI3B,IAAJ,CAASM,UAAT,EAAqBG,KAArB,CAArB;AACA,QAAImB,WAAW,GAAGZ,OAAO,CAACW,UAAR,CAAmBE,OAAnB,CAA2Bb,OAAO,CAACW,UAAR,CAAmBG,aAAnB,GAAmCC,aAAnC,EAA3B,CAAlB;AACAH,IAAAA,WAAW,CAACI,IAAZ,CAAiB,UAAUC,CAAV,EAAa;AAAE,aAAO7B,KAAK,CAACoB,kBAAN,CAAyBS,CAAzB,EAA4BjB,OAA5B,EAAqCI,MAArC,CAAP;AAAsD,KAAtF;AACH,GATD;AAUA;AACJ;AACA;;;AACInB,EAAAA,WAAW,CAAChB,SAAZ,CAAsBuC,kBAAtB,GAA2C,UAAUS,CAAV,EAAajB,OAAb,EAAsBI,MAAtB,EAA8B;AACrE,QAAIc,QAAQ,GAAGD,CAAC,CAACP,KAAF,GAAUO,CAAC,CAACR,MAAZ,GAAqB,EAApC;AACAT,IAAAA,OAAO,CAACmB,sBAAR,GAAiC,KAAjC;AACA,SAAKC,eAAL,CAAqBF,QAArB,EAA+BlB,OAA/B,EAAwCvC,MAAM,CAAC4D,IAAP,CAAYH,QAAZ,EAAsBb,MAA9D,EAAsED,MAAtE;AACA,SAAKH,YAAL,IAAqBG,MAAM,GAAG,CAAH,GAAO,KAAKH,YAAvC;;AACA,QAAI,CAACG,MAAD,IAAW,KAAKH,YAAL,KAAsBD,OAAO,CAACI,MAAR,CAAeC,MAApD,EAA4D;AACxD,WAAKiB,YAAL,CAAkBtB,OAAlB;AACA,WAAKuB,uBAAL,CAA6BvB,OAA7B;AACA,WAAKwB,YAAL,CAAkBxB,OAAlB;AACAA,MAAAA,OAAO,CAACD,WAAR;AACH;AACJ,GAXD;AAYA;AACJ;AACA;;;AACId,EAAAA,WAAW,CAAChB,SAAZ,CAAsBmD,eAAtB,GAAwC,UAAUF,QAAV,EAAoBlB,OAApB,EAA6ByB,GAA7B,EAAkCrB,MAAlC,EAA0C;AAC9E,QAAIsB,CAAC,GAAG,CAAR;AACA,QAAIC,KAAJ;AACA,QAAIpC,KAAK,GAAIa,MAAM,IAAIA,MAAM,CAACb,KAAlB,IAA4BS,OAAO,CAACT,KAAhD;AACA,QAAIC,KAAK,GAAIY,MAAM,IAAIA,MAAM,CAACZ,KAAlB,IAA4BQ,OAAO,CAACR,KAAhD;;AACA,WAAOkC,CAAC,GAAGD,GAAX,EAAgB;AACZE,MAAAA,KAAK,GAAG,IAAInD,SAAJ,CAAcC,QAAQ,CAACc,KAAD,EAAQ2B,QAAQ,CAACQ,CAAD,CAAhB,CAAtB,EAA4CjD,QAAQ,CAACe,KAAD,EAAQ0B,QAAQ,CAACQ,CAAD,CAAhB,CAApD,CAAR;AACAC,MAAAA,KAAK,CAACC,MAAN,GAAe,CAACD,KAAK,CAACE,CAAtB;;AACA,UAAI7B,OAAO,CAAC8B,SAAR,KAAsB,UAA1B,EAAsC;AAClC,YAAIC,UAAU,GAAG/B,OAAO,CAACgC,IAAR,CAAaC,aAAb,CAA2B;AAAEC,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,IAAI,EAAE;AAA1B,SAA3B,CAAjB;AACA,YAAIC,aAAa,GAAGpC,OAAO,CAACgC,IAAR,CAAaK,aAAb,CAA2B;AAAEH,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,IAAI,EAAE;AAA1B,SAA3B,CAApB;AACAR,QAAAA,KAAK,CAACW,CAAN,GAAU,IAAIC,IAAJ,CAAShE,QAAQ,CAACiE,KAAT,CAAeC,SAAf,CAAyB;AAAEC,UAAAA,GAAG,EAAEf,KAAK,CAACW;AAAb,SAAzB,EAA2CI,GAApD,CAAV;AACAf,QAAAA,KAAK,CAACgB,MAAN,GAAeJ,IAAI,CAACC,KAAL,CAAWT,UAAU,CAACK,aAAa,CAACT,KAAK,CAACW,CAAP,CAAd,CAArB,CAAf;AACH,OALD,MAMK;AACDX,QAAAA,KAAK,CAACgB,MAAN,GAAe,CAAChB,KAAK,CAACW,CAAtB;AACH;;AACD,UAAIlC,MAAJ,EAAY;AACRA,QAAAA,MAAM,CAACD,MAAP,CAAcyC,IAAd,CAAmBjB,KAAnB;AACH;;AACD,WAAKjC,IAAL,GAAYmD,IAAI,CAACC,GAAL,CAAS,KAAKpD,IAAd,EAAoBiC,KAAK,CAACgB,MAA1B,CAAZ;AACA,WAAK9C,IAAL,GAAYgD,IAAI,CAACC,GAAL,CAAS,KAAKjD,IAAd,EAAoB8B,KAAK,CAACC,MAA1B,CAAZ;AACA,WAAKhC,IAAL,GAAYiD,IAAI,CAACE,GAAL,CAAS,KAAKnD,IAAd,EAAoB+B,KAAK,CAACgB,MAA1B,CAAZ;AACA,WAAK7C,IAAL,GAAY+C,IAAI,CAACE,GAAL,CAAS,KAAKjD,IAAd,EAAoB6B,KAAK,CAACC,MAA1B,CAAZ;AACA5B,MAAAA,OAAO,CAACE,WAAR,CAAoBC,MAApB,CAA2ByC,IAA3B,CAAgCjB,KAAhC;AACAD,MAAAA,CAAC;AACJ;AACJ,GA3BD;AA4BA;AACJ;AACA;AACA;AACA;;;AACIzC,EAAAA,WAAW,CAAChB,SAAZ,CAAsBqD,YAAtB,GAAqC,UAAUtB,OAAV,EAAmB;AACpD,QAAIgD,IAAI,GAAG;AACPC,MAAAA,OAAO,EAAEjD,OAAO,CAACiD,OADV;AACmBC,MAAAA,OAAO,EAAElD,OAAO,CAACkD,OADpC;AAEPC,MAAAA,QAAQ,EAAEnD,OAAO,CAACmD,QAFX;AAEqBrB,MAAAA,SAAS,EAAE9B,OAAO,CAAC8B,SAFxC;AAGPsB,MAAAA,UAAU,EAAEpD,OAAO,CAACqD,SAHb;AAGwBC,MAAAA,WAAW,EAAEtD,OAAO,CAACsD,WAH7C;AAIPC,MAAAA,OAAO,EAAEvD,OAAO,CAACuD,OAJV;AAImBrB,MAAAA,QAAQ,EAAElC,OAAO,CAACkC,QAJrC;AAI+CsB,MAAAA,YAAY,EAAExD,OAAO,CAACwD;AAJrE,KAAX;AAMA,SAAKC,KAAL,GAAaT,IAAb;AACA,SAAKS,KAAL,CAAWC,YAAX,GAA0B1D,OAAO,CAAC0D,YAAlC;AACA,SAAKD,KAAL,CAAWE,aAAX,GAA2B,CAA3B;AACA,SAAKF,KAAL,CAAWvB,QAAX,GAAsBlC,OAAO,CAACkC,QAA9B;AACA,SAAKuB,KAAL,CAAWG,YAAX,GAA0B,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,CAA1B;AACA,SAAKH,KAAL,CAAWI,IAAX,GAAkB7D,OAAO,CAAC8D,MAA1B;AACA,SAAKL,KAAL,CAAWM,aAAX,GAA2B,EAA3B;AACA,SAAKN,KAAL,CAAWO,WAAX,GAAyB,YAAzB;AACA,QAAIC,UAAU,GAAGjE,OAAO,CAAC7B,gBAAgB,CAAC6B,OAAO,CAAC8B,SAAT,CAAhB,GAAsC,QAAvC,CAAxB;AACAmC,IAAAA,UAAU,CAACnB,GAAX,GAAiB,KAAKpD,IAAtB;AACAuE,IAAAA,UAAU,CAAClB,GAAX,GAAiB,KAAKnD,IAAtB;AACAqE,IAAAA,UAAU,CAACC,cAAX,CAA0B,KAAKT,KAA/B,EAAsCzD,OAAO,CAAC8D,MAA9C;;AACA,QAAI,KAAKL,KAAL,CAAW3B,SAAX,KAAyB,QAAzB,IAAqC,KAAK2B,KAAL,CAAW3B,SAAX,KAAyB,UAAlE,EAA8E;AAC1EmC,MAAAA,UAAU,CAACE,iBAAX,CAA6B,KAAKV,KAAlC,EAAyC,KAAKA,KAAL,CAAWW,WAAX,CAAuBtB,GAAhE,EAAqE,KAAKW,KAAL,CAAWW,WAAX,CAAuBrB,GAA5F,EAAiG,KAAKU,KAAL,CAAWW,WAAX,CAAuBjB,QAAxH;AACH;;AACD,SAAKM,KAAL,CAAWW,WAAX,CAAuBC,KAAvB,GAA+B,KAAKZ,KAAL,CAAWW,WAAX,CAAuBrB,GAAvB,GAA6B,KAAKU,KAAL,CAAWW,WAAX,CAAuBtB,GAAnF;AACA,SAAKW,KAAL,CAAWa,YAAX,GAA0B,KAAKb,KAAL,CAAWW,WAArC;AACAH,IAAAA,UAAU,CAACM,sBAAX,CAAkC,KAAKd,KAAvC,EAA8CzD,OAA9C;AACH,GAzBD;AA0BA;AACJ;AACA;AACA;AACA;AACA;;;AACIf,EAAAA,WAAW,CAAChB,SAAZ,CAAsBuD,YAAtB,GAAqC,UAAUxB,OAAV,EAAmB;AACpD,QAAIgD,IAAI,GAAG;AACPwB,MAAAA,cAAc,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OADT;AACuBC,MAAAA,YAAY,EAAE,MADrC;AAEPC,MAAAA,cAAc,EAAE;AAAEF,QAAAA,KAAK,EAAE;AAAT,OAFT;AAEuBG,MAAAA,UAAU,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAFnC;AAGPC,MAAAA,OAAO,EAAE,KAHF;AAGShD,MAAAA,SAAS,EAAE,QAHpB;AAG8BmB,MAAAA,OAAO,EAAE,IAHvC;AAG6CC,MAAAA,OAAO,EAAE,IAHtD;AAIPC,MAAAA,QAAQ,EAAE;AAJH,KAAX;AAMA,SAAK4B,KAAL,GAAa/B,IAAb;AACA,SAAK+B,KAAL,CAAWlB,IAAX,GAAkB7D,OAAO,CAAC8D,MAA1B;AACA,SAAKiB,KAAL,CAAWpB,aAAX,GAA2B,CAA3B;AACA,SAAKoB,KAAL,CAAWnB,YAAX,GAA0B,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,CAA1B;AACA,SAAKmB,KAAL,CAAWf,WAAX,GAAyB,UAAzB;AACAhE,IAAAA,OAAO,CAACgF,YAAR,CAAqBlC,GAArB,GAA2B,KAAKjD,IAAhC;AACAG,IAAAA,OAAO,CAACgF,YAAR,CAAqBjC,GAArB,GAA2B,KAAKjD,IAAhC;AACAE,IAAAA,OAAO,CAACgF,YAAR,CAAqBd,cAArB,CAAoC,KAAKa,KAAzC,EAAgD/E,OAAO,CAAC8D,MAAxD;AACA9D,IAAAA,OAAO,CAACgF,YAAR,CAAqBb,iBAArB,CAAuC,KAAKY,KAA5C,EAAmD,KAAKA,KAAL,CAAWX,WAAX,CAAuBtB,GAA1E,EAA+E,KAAKiC,KAAL,CAAWX,WAAX,CAAuBrB,GAAtG,EAA2G,KAAKgC,KAAL,CAAWX,WAAX,CAAuBjB,QAAlI;AACA,SAAK4B,KAAL,CAAWX,WAAX,CAAuBC,KAAvB,GAA+B,KAAKU,KAAL,CAAWX,WAAX,CAAuBrB,GAAvB,GAA6B,KAAKgC,KAAL,CAAWX,WAAX,CAAuBtB,GAAnF;AACA,SAAKiC,KAAL,CAAWT,YAAX,GAA0B,KAAKS,KAAL,CAAWX,WAArC;AACH,GAlBD;AAmBA;AACJ;AACA;AACA;AACA;AACA;;;AACInF,EAAAA,WAAW,CAAChB,SAAZ,CAAsBgH,YAAtB,GAAqC,UAAUjF,OAAV,EAAmB;AACpD,QAAIZ,KAAK,GAAG,IAAZ;;AACA,SAAK8F,UAAL,GAAkBlF,OAAO,CAACmF,QAAR,CAAiBC,WAAjB,CAA6B;AAAEC,MAAAA,EAAE,EAAErF,OAAO,CAACsF,OAAR,CAAgBD,EAAhB,GAAqB;AAA3B,KAA7B,CAAlB;AACA,QAAIE,MAAM,GAAG5G,cAAc,CAACqB,OAAO,CAACwF,KAAT,CAA3B;AACAxF,IAAAA,OAAO,CAACI,MAAR,CAAeE,GAAf,CAAmB,UAAUF,MAAV,EAAkBqF,KAAlB,EAAyB;AACxC,UAAIC,eAAe,GAAG1F,OAAO,CAAC2F,UAAR,GAAqB3F,OAAO,CAAC2F,UAAR,CAAmBvF,MAAnB,CAA0BqF,KAA1B,EAAiCX,OAAtD,GAAgE,IAAtF;;AACA,UAAIY,eAAJ,EAAqB;AACjBtF,QAAAA,MAAM,CAACqD,KAAP,GAAerE,KAAK,CAACqE,KAArB;AACArD,QAAAA,MAAM,CAAC2E,KAAP,GAAe3F,KAAK,CAAC2F,KAArB;AACA3E,QAAAA,MAAM,CAACwF,KAAP,GAAe5F,OAAf;AACAI,QAAAA,MAAM,CAACqF,KAAP,GAAeA,KAAf;AACArF,QAAAA,MAAM,CAACqD,KAAP,CAAaL,UAAb,GAA0BpD,OAAO,CAACqD,SAAlC;AACAjD,QAAAA,MAAM,CAACyF,QAAP,GAAkBzF,MAAM,CAAC0F,IAAP,IAAeP,MAAM,CAACE,KAAK,GAAGF,MAAM,CAAClF,MAAhB,CAAvC;;AACAjB,QAAAA,KAAK,CAAC2G,mBAAN,CAA0B/F,OAA1B,EAAmCI,MAAnC,EAA2CqF,KAA3C;;AACA,YAAIzF,OAAO,CAAC7B,gBAAgB,CAACiC,MAAM,CAAC+B,IAAR,CAAhB,GAAgC,cAAjC,CAAX,EAA6D;AACzDnC,UAAAA,OAAO,CAAC7B,gBAAgB,CAACiC,MAAM,CAAC+B,IAAR,CAAhB,GAAgC,cAAjC,CAAP,CAAwD6D,MAAxD,CAA+D5F,MAA/D,EAAuEhB,KAAK,CAACqE,KAA7E,EAAoFrE,KAAK,CAAC2F,KAA1F,EAAiG,KAAjG;AACH,SAFD,MAGK;AACD/E,UAAAA,OAAO,CAAC,SAAS,cAAV,CAAP,CAAiCgG,MAAjC,CAAwC5F,MAAxC,EAAgDhB,KAAK,CAACqE,KAAtD,EAA6DrE,KAAK,CAAC2F,KAAnE,EAA0E,KAA1E;AACH;;AACD3F,QAAAA,KAAK,CAAC8F,UAAN,CAAiBe,WAAjB,CAA6B7F,MAAM,CAAC8F,aAApC;;AACA,YAAI9F,MAAM,CAAC+F,SAAP,CAAiBC,MAAjB,IAA2BpG,OAAO,CAACqG,aAAvC,EAAsD;AAClD,cAAIrG,OAAO,CAAC7B,gBAAgB,CAACiC,MAAM,CAAC+B,IAAR,CAAhB,GAAgC,cAAjC,CAAX,EAA6D;AACzDnC,YAAAA,OAAO,CAAC7B,gBAAgB,CAACiC,MAAM,CAAC+B,IAAR,CAAhB,GAAgC,cAAjC,CAAP,CAAwDmE,WAAxD,CAAoElG,MAApE;AACH,WAFD,MAGK,CACD;AACH;AACJ;AACJ;AACJ,KA1BD;AA2BH,GA/BD;AAgCA;AACJ;AACA;;;AACInB,EAAAA,WAAW,CAAChB,SAAZ,CAAsBsI,oBAAtB,GAA6C,UAAUvG,OAAV,EAAmB;AAC5DA,IAAAA,OAAO,CAACwG,SAAR,CAAkBP,WAAlB,CAA8B,KAAKf,UAAnC;;AACA,QAAIlF,OAAO,CAACI,MAAR,CAAeC,MAAnB,EAA2B;AACvB,WAAKoG,gBAAL,CAAsBzG,OAAtB;AACH;AACJ,GALD;;AAMAf,EAAAA,WAAW,CAAChB,SAAZ,CAAsB8H,mBAAtB,GAA4C,UAAU/F,OAAV,EAAmBI,MAAnB,EAA2BqF,KAA3B,EAAkC;AAC1E,QAAIiB,SAAS,GAAG1G,OAAO,CAACsF,OAAR,CAAgBD,EAAhC;AACAjF,IAAAA,MAAM,CAACuG,QAAP,GAAkB,IAAI9H,IAAJ,CAAS,KAAK4E,KAAL,CAAWI,IAAX,CAAgBvB,CAAzB,EAA4B,KAAKyC,KAAL,CAAWlB,IAAX,CAAgBhC,CAA5C,EAA+C,KAAK4B,KAAL,CAAWI,IAAX,CAAgBY,KAA/D,EAAsE,KAAKM,KAAL,CAAWlB,IAAX,CAAgB+C,MAAtF,CAAlB;AACAxG,IAAAA,MAAM,CAACyG,eAAP,GAAyB7G,OAAO,CAACmF,QAAR,CAAiB2B,YAAjB,CAA8B,IAAI1I,UAAJ,CAAesI,SAAS,GAAG,uBAAZ,GAAsCjB,KAArD,EAA4D,aAA5D,EAA2E;AAAEhB,MAAAA,KAAK,EAAE,CAAT;AAAYsC,MAAAA,KAAK,EAAE;AAAnB,KAA3E,EAAwG,CAAxG,EAA2G;AAC9JzE,MAAAA,CAAC,EAAE,CAD2J;AACxJT,MAAAA,CAAC,EAAE,CADqJ;AAE9J4C,MAAAA,KAAK,EAAErE,MAAM,CAACuG,QAAP,CAAgBlC,KAFuI;AAG9JmC,MAAAA,MAAM,EAAExG,MAAM,CAACuG,QAAP,CAAgBC;AAHsI,KAA3G,CAA9B,CAAzB;AAKAxG,IAAAA,MAAM,CAAC8F,aAAP,GAAuBlG,OAAO,CAACmF,QAAR,CAAiBC,WAAjB,CAA6B;AAChD,YAAMsB,SAAS,GAAG,aAAZ,GAA4BjB,KADc;AAEhD,mBAAa,eAAerF,MAAM,CAACuG,QAAP,CAAgBrE,CAA/B,GAAmC,GAAnC,GAA0ClC,MAAM,CAACuG,QAAP,CAAgB9E,CAA1D,GAA+D,GAF5B;AAGhD,mBAAa,UAAU6E,SAAV,GAAsB,uBAAtB,GAAgDjB,KAAhD,GAAwD;AAHrB,KAA7B,CAAvB;AAKArF,IAAAA,MAAM,CAAC8F,aAAP,CAAqBD,WAArB,CAAiC7F,MAAM,CAACyG,eAAxC;AACH,GAdD;AAeA;AACJ;AACA;AACA;AACA;;;AACI5H,EAAAA,WAAW,CAAChB,SAAZ,CAAsBsD,uBAAtB,GAAgD,UAAUvB,OAAV,EAAmB;AAC/D,QAAIgH,OAAO,GAAGhH,OAAO,CAACiH,MAAR,CAAeC,MAA7B;AACA,QAAIC,WAAW,GAAGrI,WAAW,CAAC,QAAD,EAAWkB,OAAO,CAAC4E,UAAnB,CAAX,CAA0CgC,MAA5D;AACA,SAAKQ,6BAAL,CAAmC,KAAK3D,KAAxC,EAA+C,IAAI1E,IAAJ,CAASiB,OAAO,CAAC8D,MAAR,CAAeW,KAAxB,EAA+BzE,OAAO,CAAC8D,MAAR,CAAe8C,MAA9C,CAA/C,EAAsG,KAAKlH,IAA3G,EAAiH,KAAKE,IAAtH,EAA4H,KAA5H;;AACA,QAAII,OAAO,CAACqH,cAAR,IAA0BrH,OAAO,CAAC8B,SAAR,KAAsB,UAAhD,KACI,KAAK2B,KAAL,CAAW6D,kBAAX,KAAkC,OAAlC,IAA6C,CAACtH,OAAO,CAACI,MAAR,CAAeC,MADjE,CAAJ,EAC8E;AAC1EL,MAAAA,OAAO,CAAC8D,MAAR,CAAe8C,MAAf,IAA0B5G,OAAO,CAACuH,aAAR,KAA0B,SAA1B,IAAuCvH,OAAO,CAACI,MAAR,CAAeC,MAAf,KAA0B,CAAlE,GAAuE2G,OAAO,GAAGG,WAAjF,GACpBA,WAAW,GAAG,IAAIH,OADvB;AAEH;;AACD,QAAI,CAAChH,OAAO,CAACI,MAAR,CAAeC,MAApB,EAA4B;AACxBL,MAAAA,OAAO,CAAC8D,MAAR,CAAejC,CAAf,IAAoB7B,OAAO,CAAC8D,MAAR,CAAe8C,MAAf,GAAwB,CAA5C;AACA5G,MAAAA,OAAO,CAAC8D,MAAR,CAAe8C,MAAf,GAAwB5G,OAAO,CAAC8D,MAAR,CAAe8C,MAAf,GAAwB,CAAhD;AACH;AACJ,GAbD;;AAcA3H,EAAAA,WAAW,CAAChB,SAAZ,CAAsBwI,gBAAtB,GAAyC,UAAUzG,OAAV,EAAmB;AACxD,QAAIwH,KAAK,GAAGxH,OAAO,CAAC2F,UAAR,GAAqB,GAArB,GAA2B,GAAvC;AACA,QAAI8B,KAAK,GAAGzH,OAAO,CAAC2F,UAAR,GAAqB,EAArB,GAA0B,GAAtC;AACA,QAAI+B,OAAO,GAAG,IAAI9I,UAAJ,CAAeoB,OAAO,CAACsF,OAAR,CAAgBD,EAAhB,GAAqB,eAApC,EAAqD,aAArD,EAAoErF,OAAO,CAAC2H,eAAR,CAAwBlD,KAA5F,EAAmGzE,OAAO,CAAC2H,eAAR,CAAwBZ,KAA3H,EAAkI,CAAlI,EAAqI,EAArI,EAA0I,OAAQ/G,OAAO,CAAC8D,MAAR,CAAexB,CAAvB,GAA4B,GAA5B,GAAmCtC,OAAO,CAAC8D,MAAR,CAAejC,CAAlD,GACpJ,KADoJ,IAC3I7B,OAAO,CAAC8D,MAAR,CAAexB,CAAf,GAAmBtC,OAAO,CAAC8D,MAAR,CAAeW,KADyG,IAChG,GADgG,GAC1FzE,OAAO,CAAC8D,MAAR,CAAejC,CAD2E,GAEpJ2F,KAFoJ,IAE3IxH,OAAO,CAAC8D,MAAR,CAAexB,CAAf,GAAmBtC,OAAO,CAAC8D,MAAR,CAAeW,KAFyG,IAEhG,GAFgG,IAEzFzE,OAAO,CAAC8D,MAAR,CAAejC,CAAf,GAAmB7B,OAAO,CAAC8D,MAAR,CAAe8C,MAFuD,IAGpJ,KAHoJ,GAG3I5G,OAAO,CAAC8D,MAAR,CAAexB,CAH4H,GAGvH,GAHuH,IAGhHtC,OAAO,CAAC8D,MAAR,CAAejC,CAAf,GAAmB7B,OAAO,CAAC8D,MAAR,CAAe8C,MAH8E,IAGpEa,KAHtE,CAAd;AAIA,QAAIG,UAAU,GAAG5H,OAAO,CAACmF,QAAR,CAAiB0C,QAAjB,CAA0BH,OAA1B,CAAjB;AACA1H,IAAAA,OAAO,CAACwG,SAAR,CAAkBP,WAAlB,CAA8B2B,UAA9B;AACH,GATD;;AAUA,SAAO3I,WAAP;AACH,CAjPgC,CAiP/BZ,YAjP+B,CAAjC;;AAkPA,SAASY,WAAT","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { firstToLowerCase, RectOption } from '../../common/utils/helper';\nimport { NiceInterval } from '../../chart/axis/axis-helper';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { DataPoint } from '../utils/helper';\nimport { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getSeriesColor } from '../../common/model/theme';\nimport { PathOption, Rect, measureText, Size } from '@syncfusion/ej2-svg-base';\nimport { Data } from '../../common/model/data';\n/**\n * To render Chart series\n */\nvar RangeSeries = /** @class */ (function (_super) {\n    __extends(RangeSeries, _super);\n    function RangeSeries(range) {\n        var _this = _super.call(this) || this;\n        _this.dataSource = range.dataSource;\n        _this.xName = range.xName;\n        _this.yName = range.yName;\n        _this.query = range.query;\n        _this.xMin = Infinity;\n        _this.xMax = -Infinity;\n        _this.yMin = Infinity;\n        _this.yMax = -Infinity;\n        return _this;\n    }\n    /**\n     * To render light weight and data manager process\n     *\n     * @param {RangeNavigator} control RangeNavigator instance\n     */\n    RangeSeries.prototype.renderChart = function (control) {\n        var _this = this;\n        var dataSource;\n        var query;\n        this.seriesLength = 0;\n        control.rangeSlider.points = [];\n        if (control.series.length) {\n            control.series.map(function (series) {\n                dataSource = series.dataSource || control.dataSource;\n                query = series.query || control.query;\n                series.points = [];\n                _this.processDataSource(dataSource, query, control, series);\n            });\n        }\n        else {\n            this.processDataSource(control.dataSource, control.query, control);\n        }\n    };\n    RangeSeries.prototype.processDataSource = function (dataSource, query, control, series) {\n        var _this = this;\n        if (!(dataSource instanceof DataManager) && !isNullOrUndefined(dataSource) && isNullOrUndefined(query)) {\n            this.dataManagerSuccess({ result: dataSource, count: dataSource.length }, control, series);\n            return;\n        }\n        control.dataModule = new Data(dataSource, query);\n        var dataManager = control.dataModule.getData(control.dataModule.generateQuery().requiresCount());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, control, series); });\n    };\n    /**\n     * data manager process calculated here\n     */\n    RangeSeries.prototype.dataManagerSuccess = function (e, control, series) {\n        var viewData = e.count ? e.result : [];\n        control.allowServerDataBinding = false;\n        this.processJsonData(viewData, control, Object.keys(viewData).length, series);\n        this.seriesLength += series ? 1 : this.seriesLength;\n        if (!series || this.seriesLength === control.series.length) {\n            this.processXAxis(control);\n            this.calculateGroupingBounds(control);\n            this.processYAxis(control);\n            control.renderChart();\n        }\n    };\n    /**\n     * Process JSON data from data source\n     */\n    RangeSeries.prototype.processJsonData = function (viewData, control, len, series) {\n        var i = 0;\n        var point;\n        var xName = (series && series.xName) || control.xName;\n        var yName = (series && series.yName) || control.yName;\n        while (i < len) {\n            point = new DataPoint(getValue(xName, viewData[i]), getValue(yName, viewData[i]));\n            point.yValue = +point.y;\n            if (control.valueType === 'DateTime') {\n                var dateParser = control.intl.getDateParser({ skeleton: 'full', type: 'dateTime' });\n                var dateFormatter = control.intl.getDateFormat({ skeleton: 'full', type: 'dateTime' });\n                point.x = new Date(DataUtil.parse.parseJson({ val: point.x }).val);\n                point.xValue = Date.parse(dateParser(dateFormatter(point.x)));\n            }\n            else {\n                point.xValue = +point.x;\n            }\n            if (series) {\n                series.points.push(point);\n            }\n            this.xMin = Math.min(this.xMin, point.xValue);\n            this.yMin = Math.min(this.yMin, point.yValue);\n            this.xMax = Math.max(this.xMax, point.xValue);\n            this.yMax = Math.max(this.yMax, point.yValue);\n            control.rangeSlider.points.push(point);\n            i++;\n        }\n    };\n    /**\n     * Process x axis for range navigator.\n     *\n     * @private\n     */\n    RangeSeries.prototype.processXAxis = function (control) {\n        var axis = {\n            minimum: control.minimum, maximum: control.maximum,\n            interval: control.interval, valueType: control.valueType,\n            isInversed: control.enableRtl, labelFormat: control.labelFormat,\n            logBase: control.logBase, skeleton: control.skeleton, skeletonType: control.skeletonType\n        };\n        this.xAxis = axis;\n        this.xAxis.intervalType = control.intervalType;\n        this.xAxis.maximumLabels = 3;\n        this.xAxis.skeleton = control.skeleton;\n        this.xAxis.intervalDivs = [10, 5, 2, 1];\n        this.xAxis.rect = control.bounds;\n        this.xAxis.visibleLabels = [];\n        this.xAxis.orientation = 'Horizontal';\n        var axisModule = control[firstToLowerCase(control.valueType) + 'Module'];\n        axisModule.min = this.xMin;\n        axisModule.max = this.xMax;\n        axisModule.getActualRange(this.xAxis, control.bounds);\n        if (this.xAxis.valueType === 'Double' || this.xAxis.valueType === 'DateTime') {\n            axisModule.updateActualRange(this.xAxis, this.xAxis.actualRange.min, this.xAxis.actualRange.max, this.xAxis.actualRange.interval);\n        }\n        this.xAxis.actualRange.delta = this.xAxis.actualRange.max - this.xAxis.actualRange.min;\n        this.xAxis.visibleRange = this.xAxis.actualRange;\n        axisModule.calculateVisibleLabels(this.xAxis, control);\n    };\n    /**\n     * Process yAxis for range navigator\n     *\n     * @param {RangeNavigator} control RangeNavigator instance\n     * @private\n     */\n    RangeSeries.prototype.processYAxis = function (control) {\n        var axis = {\n            majorGridLines: { width: 0 }, rangePadding: 'None',\n            majorTickLines: { width: 0 }, labelStyle: { size: '0' },\n            visible: false, valueType: 'Double', minimum: null, maximum: null,\n            interval: null\n        };\n        this.yAxis = axis;\n        this.yAxis.rect = control.bounds;\n        this.yAxis.maximumLabels = 3;\n        this.yAxis.intervalDivs = [10, 5, 2, 1];\n        this.yAxis.orientation = 'Vertical';\n        control.doubleModule.min = this.yMin;\n        control.doubleModule.max = this.yMax;\n        control.doubleModule.getActualRange(this.yAxis, control.bounds);\n        control.doubleModule.updateActualRange(this.yAxis, this.yAxis.actualRange.min, this.yAxis.actualRange.max, this.yAxis.actualRange.interval);\n        this.yAxis.actualRange.delta = this.yAxis.actualRange.max - this.yAxis.actualRange.min;\n        this.yAxis.visibleRange = this.yAxis.actualRange;\n    };\n    /**\n     * Process Light weight control\n     *\n     * @param {RangeNavigator} control RangeNavigator instance\n     * @private\n     */\n    RangeSeries.prototype.renderSeries = function (control) {\n        var _this = this;\n        this.chartGroup = control.renderer.createGroup({ id: control.element.id + '_chart' });\n        var colors = getSeriesColor(control.theme);\n        control.series.map(function (series, index) {\n            var isSeriesVisible = control.stockChart ? control.stockChart.series[index].visible : true;\n            if (isSeriesVisible) {\n                series.xAxis = _this.xAxis;\n                series.yAxis = _this.yAxis;\n                series.chart = control;\n                series.index = index;\n                series.xAxis.isInversed = control.enableRtl;\n                series.interior = series.fill || colors[index % colors.length];\n                _this.createSeriesElement(control, series, index);\n                if (control[firstToLowerCase(series.type) + 'SeriesModule']) {\n                    control[firstToLowerCase(series.type) + 'SeriesModule'].render(series, _this.xAxis, _this.yAxis, false);\n                }\n                else {\n                    control['line' + 'SeriesModule'].render(series, _this.xAxis, _this.yAxis, false);\n                }\n                _this.chartGroup.appendChild(series.seriesElement);\n                if (series.animation.enable && control.animateSeries) {\n                    if (control[firstToLowerCase(series.type) + 'SeriesModule']) {\n                        control[firstToLowerCase(series.type) + 'SeriesModule'].doAnimation(series);\n                    }\n                    else {\n                        //control['line' + 'SeriesModule'].doAnimation(series);\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * Append series elements in element\n     */\n    RangeSeries.prototype.appendSeriesElements = function (control) {\n        control.svgObject.appendChild(this.chartGroup);\n        if (control.series.length) {\n            this.drawSeriesBorder(control);\n        }\n    };\n    RangeSeries.prototype.createSeriesElement = function (control, series, index) {\n        var elementId = control.element.id;\n        series.clipRect = new Rect(this.xAxis.rect.x, this.yAxis.rect.y, this.xAxis.rect.width, this.yAxis.rect.height);\n        series.clipRectElement = control.renderer.drawClipPath(new RectOption(elementId + '_RangeSeriesClipRect_' + index, 'transparent', { width: 1, color: 'Gray' }, 1, {\n            x: 0, y: 0,\n            width: series.clipRect.width,\n            height: series.clipRect.height\n        }));\n        series.seriesElement = control.renderer.createGroup({\n            'id': elementId + 'SeriesGroup' + index,\n            'transform': 'translate(' + series.clipRect.x + ',' + (series.clipRect.y) + ')',\n            'clip-path': 'url(#' + elementId + '_RangeSeriesClipRect_' + index + ')'\n        });\n        series.seriesElement.appendChild(series.clipRectElement);\n    };\n    /**\n     * Calculate grouping bounds for x axis.\n     *\n     * @private\n     */\n    RangeSeries.prototype.calculateGroupingBounds = function (control) {\n        var padding = control.margin.bottom;\n        var labelHeight = measureText('string', control.labelStyle).height;\n        this.calculateDateTimeNiceInterval(this.xAxis, new Size(control.bounds.width, control.bounds.height), this.xMin, this.xMax, false);\n        if (control.enableGrouping && control.valueType === 'DateTime'\n            && (this.xAxis.actualIntervalType !== 'Years' || !control.series.length)) {\n            control.bounds.height -= (control.labelPosition === 'Outside' || control.series.length === 0) ? padding + labelHeight :\n                (labelHeight + 2 * padding);\n        }\n        if (!control.series.length) {\n            control.bounds.y += control.bounds.height / 4;\n            control.bounds.height = control.bounds.height / 2;\n        }\n    };\n    RangeSeries.prototype.drawSeriesBorder = function (control) {\n        var start = control.stockChart ? 'M' : 'L';\n        var close = control.stockChart ? '' : 'Z';\n        var options = new PathOption(control.element.id + '_SeriesBorder', 'transparent', control.navigatorBorder.width, control.navigatorBorder.color, 1, '', ('M ' + (control.bounds.x) + ' ' + (control.bounds.y) +\n            ' L ' + (control.bounds.x + control.bounds.width) + ' ' + control.bounds.y +\n            start + (control.bounds.x + control.bounds.width) + ' ' + (control.bounds.y + control.bounds.height) +\n            ' L ' + (control.bounds.x) + ' ' + (control.bounds.y + control.bounds.height) + close));\n        var htmlObject = control.renderer.drawPath(options);\n        control.svgObject.appendChild(htmlObject);\n    };\n    return RangeSeries;\n}(NiceInterval));\nexport { RangeSeries };\n"]},"metadata":{},"sourceType":"module"}